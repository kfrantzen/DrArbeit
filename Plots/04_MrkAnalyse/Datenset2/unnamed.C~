{
//=========Macro generated from canvas: Canvas_1/Canvas_1
//=========  (Fri Feb  6 14:38:28 2015) by ROOT version5.34/19
   TCanvas *Canvas_1 = new TCanvas("Canvas_1", "Canvas_1",1033,461,538,325);
   Canvas_1->Range(0.1018126,-15.28395,5.040084,-5.407407);
   Canvas_1->SetFillColor(0);
   Canvas_1->SetBorderMode(0);
   Canvas_1->SetBorderSize(2);
   Canvas_1->SetLogx();
   Canvas_1->SetLogy();
   Canvas_1->SetGridx();
   Canvas_1->SetGridy();
   Canvas_1->SetLeftMargin(0.13);
   Canvas_1->SetRightMargin(0.06);
   Canvas_1->SetTopMargin(0.06);
   Canvas_1->SetBottomMargin(0.13);
   Canvas_1->SetFrameBorderMode(0);
   Canvas_1->SetFrameBorderMode(0);
   Double_t xAxis1[31] = {5.543549, 7.535659, 10.24365, 13.92477, 18.92872, 25.73088, 34.97743, 47.5468, 64.63304, 87.85934, 119.4322, 162.3509, 220.6927, 300, 407.8069, 554.3549, 753.5659, 1024.365, 1392.477, 1892.872, 2573.088, 3497.743, 4754.68, 6463.304, 8785.934, 11943.22, 16235.09, 22069.27, 30000, 40780.69, 55435.49}; 
   
   TH1D *DifferentialFlux1 = new TH1D("DifferentialFlux1","",30, xAxis1);
   DifferentialFlux1->SetMinimum(1e-14);
   DifferentialFlux1->SetMaximum(1e-06);
   DifferentialFlux1->SetStats(0);
   TArrow *arrow = new TArrow(22.10486,0.0001303358,22.10486,2.606717e-05,0.02,"");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   DifferentialFlux1->GetListOfFunctions()->Add(TArrow,">");
   arrow = new TArrow(30.04345,2.971905e-06,30.04345,5.943809e-07,0.02,"");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   DifferentialFlux1->GetListOfFunctions()->Add(TArrow,">");
   arrow = new TArrow(40.84087,9.454706e-07,40.84087,1.890941e-07,0.02,"");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   DifferentialFlux1->GetListOfFunctions()->Add(TArrow,">");
   arrow = new TArrow(55.51842,1.243227e-07,55.51842,2.486454e-08,0.02,"");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   DifferentialFlux1->GetListOfFunctions()->Add(TArrow,">");

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#000099");
   DifferentialFlux1->SetLineColor(ci);
   DifferentialFlux1->GetXaxis()->SetTitle("Energy (GeV)");
   DifferentialFlux1->GetXaxis()->SetRange(1,123789);
   DifferentialFlux1->GetXaxis()->SetLabelFont(42);
   DifferentialFlux1->GetXaxis()->SetLabelOffset(0.008);
   DifferentialFlux1->GetXaxis()->SetLabelSize(0.05);
   DifferentialFlux1->GetXaxis()->SetTitleSize(0.05);
   DifferentialFlux1->GetXaxis()->SetTitleOffset(1.2);
   DifferentialFlux1->GetXaxis()->SetTitleFont(42);
   DifferentialFlux1->GetYaxis()->SetTitle("d\\phi/dE [TeV^{-1} s^{-1} cm^{-2}]");
   DifferentialFlux1->GetYaxis()->SetLabelFont(42);
   DifferentialFlux1->GetYaxis()->SetLabelOffset(0.008);
   DifferentialFlux1->GetYaxis()->SetLabelSize(0.05);
   DifferentialFlux1->GetYaxis()->SetTitleSize(0.05);
   DifferentialFlux1->GetYaxis()->SetTitleOffset(1.35);
   DifferentialFlux1->GetYaxis()->SetTitleFont(42);
   DifferentialFlux1->GetZaxis()->SetLabelFont(42);
   DifferentialFlux1->GetZaxis()->SetLabelOffset(0.008);
   DifferentialFlux1->GetZaxis()->SetLabelSize(0.05);
   DifferentialFlux1->GetZaxis()->SetTitleSize(0.05);
   DifferentialFlux1->GetZaxis()->SetTitleOffset(1.2);
   DifferentialFlux1->GetZaxis()->SetTitleFont(42);
   DifferentialFlux1->Draw("");
   
   TGraphAsymmErrors *grae = new TGraphAsymmErrors(15);
   grae->SetName("DiffEspectrum");
   grae->SetTitle("Differential Energy Spectrum");
   grae->SetFillColor(1);
   grae->SetMarkerStyle(8);
   grae->SetPoint(0,75.47043,7.680963e-09);
   grae->SetPointError(0,0,0,2.050807e-09,2.050807e-09);
   grae->SetPoint(1,102.5923,5.675363e-09);
   grae->SetPointError(1,0,0,4.338521e-10,4.338521e-10);
   grae->SetPoint(2,139.035,3.152538e-09);
   grae->SetPointError(2,0,0,1.636179e-10,1.636179e-10);
   grae->SetPoint(3,188.997,1.630498e-09);
   grae->SetPointError(3,0,0,7.528932e-11,7.528932e-11);
   grae->SetPoint(4,256.9132,7.716758e-10);
   grae->SetPointError(4,0,0,3.693365e-11,3.693365e-11);
   grae->SetPoint(5,349.2355,4.062326e-10);
   grae->SetPointError(5,0,0,2.036885e-11,2.036885e-11);
   grae->SetPoint(6,474.7344,2.056886e-10);
   grae->SetPointError(6,0,0,1.102844e-11,1.102844e-11);
   grae->SetPoint(7,645.3321,9.096726e-11);
   grae->SetPointError(7,0,0,5.83349e-12,5.83349e-12);
   grae->SetPoint(8,877.229,4.56572e-11);
   grae->SetPointError(8,0,0,3.232492e-12,3.232492e-12);
   grae->SetPoint(9,1192.468,2.174628e-11);
   grae->SetPointError(9,0,0,1.809133e-12,1.809133e-12);
   grae->SetPoint(10,1620.99,1.033677e-11);
   grae->SetPointError(10,0,0,1.055656e-12,1.055656e-12);
   grae->SetPoint(11,2203.504,3.709624e-12);
   grae->SetPointError(11,0,0,5.20773e-13,5.20773e-13);
   grae->SetPoint(12,2995.349,1.56036e-12);
   grae->SetPointError(12,0,0,2.807709e-13,2.807709e-13);
   grae->SetPoint(13,4059.146,4.528248e-13);
   grae->SetPointError(13,0,0,1.257054e-13,1.257054e-13);
   grae->SetPoint(14,5517.826,2.684295e-13);
   grae->SetPointError(14,0,0,8.101793e-14,8.101793e-14);
   
   TH1F *Graph_DiffEspectrum1 = new TH1F("Graph_DiffEspectrum1","Differential Energy Spectrum",100,67.92338,6062.061);
   Graph_DiffEspectrum1->SetMinimum(1.686704e-13);
   Graph_DiffEspectrum1->SetMaximum(1.070493e-08);
   Graph_DiffEspectrum1->SetDirectory(0);
   Graph_DiffEspectrum1->SetStats(0);

   ci = TColor::GetColor("#000099");
   Graph_DiffEspectrum1->SetLineColor(ci);
   Graph_DiffEspectrum1->GetXaxis()->SetLabelFont(42);
   Graph_DiffEspectrum1->GetXaxis()->SetLabelSize(0.035);
   Graph_DiffEspectrum1->GetXaxis()->SetTitleSize(0.035);
   Graph_DiffEspectrum1->GetXaxis()->SetTitleFont(42);
   Graph_DiffEspectrum1->GetYaxis()->SetLabelFont(42);
   Graph_DiffEspectrum1->GetYaxis()->SetLabelSize(0.035);
   Graph_DiffEspectrum1->GetYaxis()->SetTitleSize(0.035);
   Graph_DiffEspectrum1->GetYaxis()->SetTitleFont(42);
   Graph_DiffEspectrum1->GetZaxis()->SetLabelFont(42);
   Graph_DiffEspectrum1->GetZaxis()->SetLabelSize(0.035);
   Graph_DiffEspectrum1->GetZaxis()->SetTitleSize(0.035);
   Graph_DiffEspectrum1->GetZaxis()->SetTitleFont(42);
   grae->SetHistogram(Graph_DiffEspectrum1);
   
   grae->Draw("p");
   
   TF1 *CrabFluxHEGRA = new TF1("CrabFluxHEGRA","[0]*pow(x/1000.,-[1])",500,80000);
   CrabFluxHEGRA->SetFillColor(19);
   CrabFluxHEGRA->SetFillStyle(0);
   CrabFluxHEGRA->SetLineColor(4);
   CrabFluxHEGRA->SetLineWidth(1);
   CrabFluxHEGRA->GetXaxis()->SetLabelFont(42);
   CrabFluxHEGRA->GetXaxis()->SetLabelSize(0.035);
   CrabFluxHEGRA->GetXaxis()->SetTitleSize(0.035);
   CrabFluxHEGRA->GetXaxis()->SetTitleFont(42);
   CrabFluxHEGRA->GetYaxis()->SetLabelFont(42);
   CrabFluxHEGRA->GetYaxis()->SetLabelSize(0.035);
   CrabFluxHEGRA->GetYaxis()->SetTitleSize(0.035);
   CrabFluxHEGRA->GetYaxis()->SetTitleFont(42);
   CrabFluxHEGRA->SetParameter(0,2.83e-11);
   CrabFluxHEGRA->SetParError(0,0);
   CrabFluxHEGRA->SetParLimits(0,0,0);
   CrabFluxHEGRA->SetParameter(1,2.62);
   CrabFluxHEGRA->SetParError(1,0);
   CrabFluxHEGRA->SetParLimits(1,0,0);
   CrabFluxHEGRA->Draw("same");
   
   TF1 *CrabFluxMAGIC = new TF1("CrabFluxMAGIC","[0]*pow(x/300.,-[1]+[2]*log10(x/300.))",60,10000);
   CrabFluxMAGIC->SetFillColor(19);
   CrabFluxMAGIC->SetFillStyle(0);
   CrabFluxMAGIC->SetLineColor(2);
   CrabFluxMAGIC->SetLineWidth(1);
   CrabFluxMAGIC->SetLineStyle(2);
   CrabFluxMAGIC->GetXaxis()->SetLabelFont(42);
   CrabFluxMAGIC->GetXaxis()->SetLabelSize(0.035);
   CrabFluxMAGIC->GetXaxis()->SetTitleSize(0.035);
   CrabFluxMAGIC->GetXaxis()->SetTitleFont(42);
   CrabFluxMAGIC->GetYaxis()->SetLabelFont(42);
   CrabFluxMAGIC->GetYaxis()->SetLabelSize(0.035);
   CrabFluxMAGIC->GetYaxis()->SetTitleSize(0.035);
   CrabFluxMAGIC->GetYaxis()->SetTitleFont(42);
   CrabFluxMAGIC->SetParameter(0,6e-10);
   CrabFluxMAGIC->SetParError(0,0);
   CrabFluxMAGIC->SetParLimits(0,0,0);
   CrabFluxMAGIC->SetParameter(1,2.31);
   CrabFluxMAGIC->SetParError(1,0);
   CrabFluxMAGIC->SetParLimits(1,0,0);
   CrabFluxMAGIC->SetParameter(2,-0.26);
   CrabFluxMAGIC->SetParError(2,0);
   CrabFluxMAGIC->SetParLimits(2,0,0);
   CrabFluxMAGIC->Draw("same");
   
   TF1 *fittedassumedspectrum = new TF1("fittedassumedspectrum","[0]*((x/300.)^(-(2.31)-(0.26*log10(x/300.))))",50,50000);
   fittedassumedspectrum->SetFillColor(19);
   fittedassumedspectrum->SetFillStyle(0);
   fittedassumedspectrum->SetLineColor(8);
   fittedassumedspectrum->SetLineWidth(2);
   fittedassumedspectrum->SetChisquare(15.88741);
   fittedassumedspectrum->SetNDF(14);
   fittedassumedspectrum->GetXaxis()->SetLabelFont(42);
   fittedassumedspectrum->GetXaxis()->SetLabelSize(0.035);
   fittedassumedspectrum->GetXaxis()->SetTitleSize(0.035);
   fittedassumedspectrum->GetXaxis()->SetTitleFont(42);
   fittedassumedspectrum->GetYaxis()->SetLabelFont(42);
   fittedassumedspectrum->GetYaxis()->SetLabelSize(0.035);
   fittedassumedspectrum->GetYaxis()->SetTitleSize(0.035);
   fittedassumedspectrum->GetYaxis()->SetTitleFont(42);
   fittedassumedspectrum->SetParameter(0,5.929108e-10);
   fittedassumedspectrum->SetParError(0,1.086079e-11);
   fittedassumedspectrum->SetParLimits(0,0,0);
   fittedassumedspectrum->Draw("same");
   TLatex *   tex = new TLatex(0.2,0.2,"Assumed spectral shape");
tex->SetNDC();
   tex->SetTextColor(8);
   tex->SetTextFont(42);
   tex->SetLineWidth(2);
   tex->Draw();
   arrow = new TArrow(22.10486,0.0001303358,22.10486,2.606717e-05,0.02,">");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   
   TF1 *specline_5 = new TF1("specline_5","6.795539e-07*(x/300.)^(-(2.31)-(0.26*log10(x/300.)))",18.92872,25.73088);
   specline_5->SetFillColor(19);
   specline_5->SetFillStyle(0);
   specline_5->SetLineColor(2);
   specline_5->SetLineWidth(1);
   specline_5->GetXaxis()->SetLabelFont(42);
   specline_5->GetXaxis()->SetLabelSize(0.035);
   specline_5->GetXaxis()->SetTitleSize(0.035);
   specline_5->GetXaxis()->SetTitleFont(42);
   specline_5->GetYaxis()->SetLabelFont(42);
   specline_5->GetYaxis()->SetLabelSize(0.035);
   specline_5->GetYaxis()->SetTitleSize(0.035);
   specline_5->GetYaxis()->SetTitleFont(42);
   specline_5->Draw("same");
   arrow = new TArrow(30.04345,2.971905e-06,30.04345,5.943809e-07,0.02,">");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   
   TF1 *specline_6 = new TF1("specline_6","2.655584e-08*(x/300.)^(-(2.31)-(0.26*log10(x/300.)))",25.73088,34.97743);
   specline_6->SetFillColor(19);
   specline_6->SetFillStyle(0);
   specline_6->SetLineColor(2);
   specline_6->SetLineWidth(1);
   specline_6->GetXaxis()->SetLabelFont(42);
   specline_6->GetXaxis()->SetLabelSize(0.035);
   specline_6->GetXaxis()->SetTitleSize(0.035);
   specline_6->GetXaxis()->SetTitleFont(42);
   specline_6->GetYaxis()->SetLabelFont(42);
   specline_6->GetYaxis()->SetLabelSize(0.035);
   specline_6->GetYaxis()->SetTitleSize(0.035);
   specline_6->GetYaxis()->SetTitleFont(42);
   specline_6->Draw("same");
   arrow = new TArrow(40.84087,9.454706e-07,40.84087,1.890941e-07,0.02,">");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   
   TF1 *specline_7 = new TF1("specline_7","1.479544e-08*(x/300.)^(-(2.31)-(0.26*log10(x/300.)))",34.97743,47.5468);
   specline_7->SetFillColor(19);
   specline_7->SetFillStyle(0);
   specline_7->SetLineColor(2);
   specline_7->SetLineWidth(1);
   specline_7->GetXaxis()->SetLabelFont(42);
   specline_7->GetXaxis()->SetLabelSize(0.035);
   specline_7->GetXaxis()->SetTitleSize(0.035);
   specline_7->GetXaxis()->SetTitleFont(42);
   specline_7->GetYaxis()->SetLabelFont(42);
   specline_7->GetYaxis()->SetLabelSize(0.035);
   specline_7->GetYaxis()->SetTitleSize(0.035);
   specline_7->GetYaxis()->SetTitleFont(42);
   specline_7->Draw("same");
   arrow = new TArrow(55.51842,1.243227e-07,55.51842,2.486454e-08,0.02,">");
   arrow->SetFillColor(1);
   arrow->SetFillStyle(1001);
   arrow->Draw();
   
   TF1 *specline_8 = new TF1("specline_8","3.480364e-09*(x/300.)^(-(2.31)-(0.26*log10(x/300.)))",47.5468,64.63304);
   specline_8->SetFillColor(19);
   specline_8->SetFillStyle(0);
   specline_8->SetLineColor(2);
   specline_8->SetLineWidth(1);
   specline_8->GetXaxis()->SetLabelFont(42);
   specline_8->GetXaxis()->SetLabelSize(0.035);
   specline_8->GetXaxis()->SetTitleSize(0.035);
   specline_8->GetXaxis()->SetTitleFont(42);
   specline_8->GetYaxis()->SetLabelFont(42);
   specline_8->GetYaxis()->SetLabelSize(0.035);
   specline_8->GetYaxis()->SetTitleSize(0.035);
   specline_8->GetYaxis()->SetTitleFont(42);
   specline_8->Draw("same");
   Canvas_1->Modified();
   Canvas_1->cd();
   Canvas_1->SetSelected(Canvas_1);
}
